{"name":"Refactoring with Guava","tagline":"...the functional way!","body":"### Context\r\n\r\nYou have just started a new project in a corporate and investment bank, and you have to improve quality and maintainability of an existing blotter application.\r\n\r\nA blotter consists in a list of products displayed to users.\r\n\r\nProduct visibility depends of participant teams which are indicated on each product. A user who belongs to the team which is affected to a product as participant can show this product in its blotter. This rule is also suitable for subteams.\r\n\r\n![Participant Teams](images/image01.png)\r\n\r\nThree different types of blotter exist with specific rules:\r\n\r\n* All products blotter which contains all products with tasks for user, user’s teams and user’s teams’ members.\r\n* Team blotter which contains only product with task for user, user’s teams and user’s teams’ members.\r\n* User blotter which contains only product with task for user, user’s teams.\r\n\r\n### Organization\r\n\r\nEach user belongs to teams and have roles (sales, engineer or trader). Each team contains members which can be users or teams.\r\n\r\nA task is assigned to a member (user or team) and a role.\r\n\r\n![Organization](images/image02.png)\r\n\r\n### Goal\r\n\r\nRefactor existing application by reducing complexity of task and product repositories.\r\n\r\n![Global Architecture](images/image03.png)\r\n\r\nUse Guava to filter and transform tasks and products according to business rules.\r\n\r\n### Task helper rules\r\n\r\n![Task Helper](images/image04.png)\r\n\r\n### Blotter service rules\r\n\r\n![Team and User Blotters](images/image05.png)\r\n\r\n![All Products Blotter](images/image06.png)","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}